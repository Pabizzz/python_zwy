{"uid":"660f7c97220f55c","name":"test_login[login0]","fullName":"testcases.test_login.TestLogin#test_login","historyId":"a2f27863cd1b0d2b04335d7f7737494c","time":{"start":1674485890048,"stop":1674485890049,"duration":1},"status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","statusTrace":"self = <testcases.test_login.TestLogin object at 0x7f878c157100>\nlogin = {'name': 'login', 'request': {'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, def...eep-alive', ...}, 'json': {'password': 123456, 'username': 'autotest'}, 'method': 'POST', 'url': '/system/auth/login'}}\n\n    @pytest.mark.parametrize('login', get_data['login'])\n    def test_login(self, login):\n        print(login)\n        print(get_data['login'])\n        urls = login['request']['url']\n        jsons = login['request']['json']\n        Header = login['request']['headers']\n    \n>       res = TestLogin.sess.request(\"post\", url=urls, data=None, json=jsons, headers=Header)\n\ntestcases/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.local/lib/python3.10/site-packages/requests/sessions.py:573: in request\n    prep = self.prepare_request(req)\n/root/.local/lib/python3.10/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n/root/.local/lib/python3.10/site-packages/requests/models.py:368: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '/system/auth/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant http://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?\n\n/root/.local/lib/python3.10/site-packages/requests/models.py:439: MissingSchema","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"func_log","time":{"start":1674485890047,"stop":1674485890047,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","statusTrace":"self = <testcases.test_login.TestLogin object at 0x7f878c157100>\nlogin = {'name': 'login', 'request': {'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, def...eep-alive', ...}, 'json': {'password': 123456, 'username': 'autotest'}, 'method': 'POST', 'url': '/system/auth/login'}}\n\n    @pytest.mark.parametrize('login', get_data['login'])\n    def test_login(self, login):\n        print(login)\n        print(get_data['login'])\n        urls = login['request']['url']\n        jsons = login['request']['json']\n        Header = login['request']['headers']\n    \n>       res = TestLogin.sess.request(\"post\", url=urls, data=None, json=jsons, headers=Header)\n\ntestcases/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.local/lib/python3.10/site-packages/requests/sessions.py:573: in request\n    prep = self.prepare_request(req)\n/root/.local/lib/python3.10/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n/root/.local/lib/python3.10/site-packages/requests/models.py:368: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '/system/auth/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant http://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?\n\n/root/.local/lib/python3.10/site-packages/requests/models.py:439: MissingSchema","steps":[],"attachments":[{"uid":"3567ce73af8857ca","name":"log","source":"3567ce73af8857ca.txt","type":"text/plain","size":107},{"uid":"e405ec66e043caed","name":"stdout","source":"e405ec66e043caed.txt","type":"text/plain","size":1328},{"uid":"2615aa4aaab2ae5f","name":"stderr","source":"2615aa4aaab2ae5f.txt","type":"text/plain","size":150}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"func_log::0","time":{"start":1674485890111,"stop":1674485890112,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"testcases"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"VM-8-15-centos"},{"name":"thread","value":"9744-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"login","value":"{'name': 'login', 'request': {'url': '/system/auth/login', 'method': 'POST', 'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Connection': 'keep-alive', 'Content-Length': '156', 'Content-Type': 'application/json;charset=UTF-8', 'Host': '43.139.182.137:48080', 'Origin': 'http://43.139.182.137:48080', 'Referer': 'http://43.139.182.137:48080/admin-ui/login?redirect=%2Findex', 'tenant-id': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'}, 'json': {'username': 'autotest', 'password': 123456}}}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"660f7c97220f55c.json","parameterValues":["{'name': 'login', 'request': {'url': '/system/auth/login', 'method': 'POST', 'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Connection': 'keep-alive', 'Content-Length': '156', 'Content-Type': 'application/json;charset=UTF-8', 'Host': '43.139.182.137:48080', 'Origin': 'http://43.139.182.137:48080', 'Referer': 'http://43.139.182.137:48080/admin-ui/login?redirect=%2Findex', 'tenant-id': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'}, 'json': {'username': 'autotest', 'password': 123456}}}"]}
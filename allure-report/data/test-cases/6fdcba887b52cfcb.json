{"uid":"6fdcba887b52cfcb","name":"test_login[login0]","fullName":"testcases.test_login.TestLogin#test_login","historyId":"a2f27863cd1b0d2b04335d7f7737494c","time":{"start":1674485893118,"stop":1674485893119,"duration":1},"status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","statusTrace":"self = <testcases.test_login.TestLogin object at 0x7f878c157100>\nlogin = {'name': 'login', 'request': {'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, def...eep-alive', ...}, 'json': {'password': 123456, 'username': 'autotest'}, 'method': 'POST', 'url': '/system/auth/login'}}\n\n    @pytest.mark.parametrize('login', get_data['login'])\n    def test_login(self, login):\n        print(login)\n        print(get_data['login'])\n        urls = login['request']['url']\n        jsons = login['request']['json']\n        Header = login['request']['headers']\n    \n>       res = TestLogin.sess.request(\"post\", url=urls, data=None, json=jsons, headers=Header)\n\ntestcases/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.local/lib/python3.10/site-packages/requests/sessions.py:573: in request\n    prep = self.prepare_request(req)\n/root/.local/lib/python3.10/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n/root/.local/lib/python3.10/site-packages/requests/models.py:368: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '/system/auth/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant http://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?\n\n/root/.local/lib/python3.10/site-packages/requests/models.py:439: MissingSchema","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"func_log","time":{"start":1674485893117,"stop":1674485893117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","statusTrace":"self = <testcases.test_login.TestLogin object at 0x7f878c157100>\nlogin = {'name': 'login', 'request': {'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, def...eep-alive', ...}, 'json': {'password': 123456, 'username': 'autotest'}, 'method': 'POST', 'url': '/system/auth/login'}}\n\n    @pytest.mark.parametrize('login', get_data['login'])\n    def test_login(self, login):\n        print(login)\n        print(get_data['login'])\n        urls = login['request']['url']\n        jsons = login['request']['json']\n        Header = login['request']['headers']\n    \n>       res = TestLogin.sess.request(\"post\", url=urls, data=None, json=jsons, headers=Header)\n\ntestcases/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.local/lib/python3.10/site-packages/requests/sessions.py:573: in request\n    prep = self.prepare_request(req)\n/root/.local/lib/python3.10/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n/root/.local/lib/python3.10/site-packages/requests/models.py:368: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '/system/auth/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant http://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?\n\n/root/.local/lib/python3.10/site-packages/requests/models.py:439: MissingSchema","steps":[],"attachments":[{"uid":"e20835b54f486f24","name":"log","source":"e20835b54f486f24.txt","type":"text/plain","size":215},{"uid":"dd992693da7b92e3","name":"stdout","source":"dd992693da7b92e3.txt","type":"text/plain","size":2656},{"uid":"4a9a4c54de11f1e2","name":"stderr","source":"4a9a4c54de11f1e2.txt","type":"text/plain","size":300}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"func_log::0","time":{"start":1674485893159,"stop":1674485893159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"testcases"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"VM-8-15-centos"},{"name":"thread","value":"9744-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"login","value":"{'name': 'login', 'request': {'url': '/system/auth/login', 'method': 'POST', 'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Connection': 'keep-alive', 'Content-Length': '156', 'Content-Type': 'application/json;charset=UTF-8', 'Host': '43.139.182.137:48080', 'Origin': 'http://43.139.182.137:48080', 'Referer': 'http://43.139.182.137:48080/admin-ui/login?redirect=%2Findex', 'tenant-id': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'}, 'json': {'username': 'autotest', 'password': 123456}}}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"660f7c97220f55c","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674485890048,"stop":1674485890049,"duration":1}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":8,"skipped":0,"passed":0,"unknown":0,"total":8},"items":[{"uid":"2ed31e0af7d21dc5","reportUrl":"http://43.139.182.137:8090/job/ApiTest/11/allure/#testresult/2ed31e0af7d21dc5","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674485877951,"stop":1674485877952,"duration":1}},{"uid":"f3b09555a92bae8","reportUrl":"http://43.139.182.137:8090/job/ApiTest/10/allure/#testresult/f3b09555a92bae8","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674485458441,"stop":1674485458441,"duration":0}},{"uid":"f3e26981674f8832","reportUrl":"http://43.139.182.137:8090/job/ApiTest/8/allure/#testresult/f3e26981674f8832","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674481869963,"stop":1674481869964,"duration":1}},{"uid":"13b8a008aa40321","reportUrl":"http://43.139.182.137:8090/job/ApiTest/7/allure/#testresult/13b8a008aa40321","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674481541476,"stop":1674481541477,"duration":1}},{"uid":"aa34837f701c5cb0","reportUrl":"http://43.139.182.137:8090/job/ApiTest/6/allure/#testresult/aa34837f701c5cb0","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674479410148,"stop":1674479410149,"duration":1}},{"uid":"660670e9c1d9b8db","reportUrl":"http://43.139.182.137:8090/job/ApiTest/5/allure/#testresult/660670e9c1d9b8db","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674479193156,"stop":1674479193156,"duration":0}},{"uid":"3db5bfc0679b34ef","reportUrl":"http://43.139.182.137:8090/job/ApiTest/4/allure/#testresult/3db5bfc0679b34ef","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '/system/auth/login': No scheme supplied. Perhaps you meant http:///system/auth/login?","time":{"start":1674478986604,"stop":1674478986605,"duration":1}}]},"tags":[]},"source":"6fdcba887b52cfcb.json","parameterValues":["{'name': 'login', 'request': {'url': '/system/auth/login', 'method': 'POST', 'headers': {'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Connection': 'keep-alive', 'Content-Length': '156', 'Content-Type': 'application/json;charset=UTF-8', 'Host': '43.139.182.137:48080', 'Origin': 'http://43.139.182.137:48080', 'Referer': 'http://43.139.182.137:48080/admin-ui/login?redirect=%2Findex', 'tenant-id': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'}, 'json': {'username': 'autotest', 'password': 123456}}}"]}